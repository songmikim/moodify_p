<!-- _comment_list.html (새로 생성) -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="list" class="comments-section" th:if="${commentList != null && commentList.size() > 0}">

    <div class="comments-list">
        <div th:each="comment : ${commentList}" class="comment-item">

            <!-- 댓글 헤더 -->
            <div class="comment-header">
                <span class="comment-author" th:text="${comment.commenter}">작성자</span>
                <span class="comment-date" th:text="${#temporals.format(comment.createdAt, 'yyyy-MM-dd HH:mm')}">작성일</span>
                <span th:if="${comment.member != null}" class="member-badge" title="회원">🔵</span>
                <span th:unless="${comment.member != null}" class="guest-badge" title="비회원">⚪</span>
            </div>
            <div th:text="${comment.content}">
                댓글 내용
            </div>

            <th:block th:if="${comment.canDelete}">
                <!-- 회원 글 삭제 -->
                <button th:if="${!comment.needAuth}" type="button" class="btn btn-delete"
                        th:data-seq="${comment.seq}"
                        onclick="performCommentAction('delete',this.dataset.seq,true)">삭제</button>

                <!-- 비회원 글 삭제 -->
                <button th:if="${comment.needAuth}" type="button" class="btn btn-delete"
                        th:data-seq="${comment.seq}"
                        onclick="checkGuestPassword('delete', this.dataset.seq,true)">삭제</button>
            </th:block>

        </div>
    </div>
</div>